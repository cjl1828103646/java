package 第十二次作业;

import java.io.File;
import java.io.FileWriter;
import java.io.IOException;
import java.util.Iterator;
import java.util.Scanner;
import java.util.Set;
import java.util.TreeSet;

public class TestStudent {
	 public static void main(String[] args) {
		    Set<Student> stuSet = saveStudentInfo();
		    outputInfo(stuSet);
		  }
		  private static Set<Student> saveStudentInfo() {
		    Scanner input = new Scanner(System.in);

		    Set<Student> stuSet = new TreeSet<Student>();
		    while (true){
		      System.out.println("请输入学生信息（学号#姓名#年龄）");
		      String inputData = input.nextLine();
		      
		      if ("exit".equals(inputData)){
		        break;
		      }
		   
		      String [] info = inputData.split("#");
		     
		      Student stu = new Student(Integer.parseInt(info[0]),info[1],
		        Integer.parseInt(info[2]));
		    
		      stuSet.add(stu);
		    }
		    return stuSet;
		  }
		  private static void outputInfo(Set<Student> stuSet){
		    File file = new File("e:/student.txt");
		 
		    FileWriter fw = null;
		    try {
		      fw = new FileWriter(file);
		      Iterator<Student> it = stuSet.iterator();
		      while (it.hasNext()){
		        String info = it.next().toString();
		        fw.write(info);
		        fw.write("\r\n");
		      }
		    } catch (IOException e) {
		      e.printStackTrace();
		    }finally {
		      try {
		        fw.close();
		      } catch (IOException e) {
		        e.printStackTrace();
		      }
		    }
		  }
}
